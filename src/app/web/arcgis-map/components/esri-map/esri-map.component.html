<div class="d-flex flex-column w-100 h-100 m-0 p-0">
    <div [ngClass]="'w-100 m-0 p-0 ' + (activeStreet ? 'h-60' : 'h-100')">
        <div class="container-map">            
            <div id="divMapView" class="map" [class]="mapActive===2 ? 'visible' : 'invisible'"></div>
            <div id="divSceneView" class="map" [class]="mapActive===3 ? 'visible' : 'invisible'"></div>
            <div class="btn-group btn-group-unselectable type-map" ngbRadioGroup [(ngModel)]="mapActive" (change)="changeSelectMap()">
                <label ngbButtonLabel class="btn-outline-primary btn-sm">
                    <input ngbButton type="radio" [value]="2"> Mapa 2D
                </label>
                <label ngbButtonLabel class="btn-outline-primary btn-sm">
                    <input ngbButton type="radio" [value]="3"> Mapa 3D
                </label>
            </div>
            <button type="button" class="btn btn-primary button-curtain" (click)="onChangeView()">
                <span [ngClass]="isFullView ? 'fa fa-arrow-left': 'fa fa-arrow-right'"></span>
            </button>
            <div class="status-map d-flex flex-column m-0 p-0">
                <div class="d-flex justify-content-center m-0 p-0">
                    <label class="m-0 p-0">Longitud:</label><label class="m-0 p-0 ml-1">{{mapService.coordStatusMap.longitude}}</label>
                    <label class="m-0 p-0 ml-3">Latitud:</label><label class="m-0 p-0 ml-1">{{mapService.coordStatusMap.latitude}}</label>
                    <label class="m-0 p-0 ml-3" *ngIf="mapActive==3">Altura:</label><label class="m-0 p-0 ml-1" *ngIf="mapActive==3">{{mapService.coordStatusMap.height}}</label>
                </div>
                <div class="d-flex justify-content-center m-0 p-0">
                    <label class="m-0 p-0">Zona:</label><label class="m-0 p-0 ml-1">{{mapService.coordStatusMap.zoneUTM}}S</label>
                    <label class="m-0 p-0 ml-3">Este:</label><label class="m-0 p-0 ml-1">{{mapService.coordStatusMap.xUTM}}</label>
                    <label class="m-0 p-0 ml-3">Norte:</label><label class="m-0 p-0 ml-1">{{mapService.coordStatusMap.yUTM}}</label>
                </div>
            </div>
            <div id="div-coord-conver-2D" class="coord-conver-map m-0 p-0" [class]="mapActive==2?'d-block':'d-none'"></div>
            <div id="div-coord-conver-3D" class="coord-conver-map m-0 p-0" [class]="mapActive==3?'d-block':'d-none'"></div>
            <div id="div-scale-bar" class="scalebar-map" [class]="mapActive==2?'d-block':'d-none'"></div>
            <div class="toolbar-map esri-component esri-widget toolbar-widget-map">
                <button id="popup_view"
                      class="esri-widget--button esri-interactive button-esri-modify esri-custom-icon-popup-view"
                      title="Identificar" (click)="onClickPopupView()"
                 ></button>
                <div class="separator-button"></div>
                <button id="measurement_distance_2D"
                      class="esri-widget--button esri-interactive esri-custom-icon-measure-line button-esri-modify"
                      title="Medir distancia" (click)="onClickMeasurementDistance()"
                      style="display: block;">
                </button>
                <button id="measurement_distance_3D"
                      class="esri-widget--button esri-interactive esri-custom-icon-measure-line button-esri-modify"
                      title="Medir distancia" (click)="onClickMeasurementDistance()"
                      style="display: none;">
                </button>
                <div class="separator-button"></div>
                <button id="measurement_area_2D"
                      class="esri-widget--button esri-interactive esri-custom-icon-measure-area button-esri-modify"
                      title="Medir Polígono" (click)="onClickMeasurementArea()" style="display: block;"></button>
                <button id="measurement_area_3D"
                      class="esri-widget--button esri-interactive esri-custom-icon-measure-area button-esri-modify"
                      title="Medir Polígono" (click)="onClickMeasurementArea()" style="display: none;"></button>
                <div class="separator-button"></div>
                <button id="street_view"
                      class="button-esri-modify esri-widget--button esri-interactive esri-custom-icon-street-view"
                      title="Google StreetView" (click)="onClickStreetView()"></button>
                <div class="separator-button"></div>
                <button id="print_2D"
                      class="esri-widget--button esri-interactive esri-custom-icon-printer button-esri-modify"
                      title="Imprimir" (click)="onClickPrint()" style="display: block;"></button>
                <div id="print_separator_2D" class="separator-button"></div>
                <button id="download_view"
                      class="button-esri-modify esri-widget--button esri-interactive esri-custom-icon-download"
                      title="Descargar Capas" (click)="openWindow('download')"></button>
                <div class="separator-button"></div>
                <button id="add_wms_view"
                      class="button-esri-modify esri-widget--button esri-interactive esri-custom-icon-wms"
                      title="Agregar WMS" (click)="openWindow('addWMS')"></button>
                <div class="separator-button"></div>
                <button id="tools_clear"
                      class="button-esri-modify esri-widget--button esri-interactive esri-custom-icon-trash"
                      title="Limpiar Herramientas" (click)="onClickClear()"></button>
            </div>
            <!--ToolBar Personalizado de Edición-->
            <div class="toolbar-edit esri-component esri-widget toolbar-widget-map">
                <button id="toolbar-edit-selection"
                class="esri-widget--button esri-interactive button-esri-modify esri-icon-cursor-marquee"
                title="Seleccionar Polígono" (click)="onSelectGraphic()"></button>
                <div class="separator-button"></div>
                <button id="toolbar-edit-line"
                class="esri-widget--button esri-interactive button-esri-modify esri-icon-polyline"
                title="Seleccionar Polígono" (click)="onCreateLineGraphic('polyline')"></button>
                <div class="separator-button"></div>
                <button id="toolbar-edit-line"
                class="esri-widget--button esri-interactive button-esri-modify esri-icon-polygon"
                title="Seleccionar Polígono" (click)="onCreateLineGraphic('polygon')"></button>
                <button id="toolbar-edit-line"
                class="esri-widget--button esri-interactive button-esri-modify esri-icon-save"
                title="Grabar cambios" (click)="onSaveChanges()"></button>                           
            </div>
            <!--Menu-->
            <div id="contextMenu2" class="btn-group open">
                <ul>
                    <li><a href="#"><i class="fa fa-pencil fa-fw"></i> Modificar Geometría</a></li>
                    <li><a href="#"><i class="fa fa-pencil fa-fw"></i> Modificar Atributos</a></li>
                    <li id="EditGeometry"  (click)="onEditGraphic()">
                        <span class="esri-icon-line-chart icon-style"></span>
                        <span> Modificar geometría</span>
                    </li>
                    <li id="showInfo">                        
                        <span class="esri-icon-table icon-style"> </span>
                        <span>Modificar atributos</span>                        
                    </li>
                </ul>
            </div>
            <div class="btn-group open">
                <a class="btn btn-primary" ><i class="fa fa-user fa-fw"></i> User</a>
                <a class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                  <span class="fa fa-caret-down" title="Toggle dropdown menu"></span>
                </a>
                <ul class="dropdown-menu">
                  <li><a href="#"><i class="fa fa-pencil fa-fw"></i> Edit</a></li>
                  <li><a href="#"><i class="fa fa-trash-o fa-fw"></i> Delete</a></li>
                  <li><a href="#"><i class="fa fa-ban fa-fw"></i> Ban</a></li>
                  <li class="divider"></li>
                  <li><a href="#"><i class="fa fa-unlock"></i> Make admin</a></li>
                </ul>
              </div>
            <!--Formulario de acualizacion-->
            <div class="card">
                <div class="card-header" v-if="cardHeaderTitle">
                    <i class="fas fa-tty"></i>
                    <span>{{this.administradoDoc}}</span>
                </div>
                <div class="card-body">
                    <h3 class="card-title" v-if="cardTitle">{{cardTitle}}</h3>
                    <slot>
                        <div class="input-group form-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fas fa-phone"></i></span>
                            </div>
                            <input type="text" class="form-control" placeholder="Número de teléfono" v-model="WatchNumTele" v-on:keypress="isNumber($event, WatchNumTele)">						
                        </div>
                        <div class="row">
                            <div class="col">
                                <button  type="button"  class="btn btn-primary"  style=" width: 100%;" >Buscar</button>
                            </div>  
                            <div class="col">
                                <button  type="button"  class="btn btn-primary"  style=" width: 100%;" >Limpiar</button>
                            </div>                
                        </div>
                    </slot>
                </div>
            </div>
        </div>
    </div>
    <div [ngClass]="'w-100 m-0 p-0 ' + (activeStreet ? 'h-40' : 'h-0')">
        <ng-template [ngIf]="activeStreet">        
        </ng-template>
    </div>
</div>
<link rel="stylesheet" href="https://js.arcgis.com/4.30/esri/themes/light/main.css">
<link rel="stylesheet" href="/assets/scss/font-awesome.min.css">